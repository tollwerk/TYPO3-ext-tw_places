<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:formvh="http://typo3.org/ns/TYPO3/CMS/Form/ViewHelpers" data-namespace-typo3-fluid="true">
<formvh:renderRenderable renderable="{form}">
    <formvh:form
            object="{form}"
            action="{form.renderingOptions.controllerAction}"
            method="{form.renderingOptions.httpMethod}"
            id="{form.identifier}"
            section="{form.identifier}"
            enctype="{form.renderingOptions.httpEnctype}"
            addQueryString="{form.renderingOptions.addQueryString}"
            argumentsToBeExcludedFromQueryString="{form.renderingOptions.argumentsToBeExcludedFromQueryString}"
            additionalParams="{form.renderingOptions.additionalParams}"
    >
        <f:render partial="{form.currentPage.templateName}" arguments="{page: form.currentPage}" />


        <f:switch expression="{form.renderingOptions.theme}">
            <f:case value="inverted">
                <f:variable name="buttonTheme" value="CallToAction--theme-default"/>
                <f:variable name="buttonStyle" value="CallToAction--opaque" />
                <f:variable name="buttonInverted" value="CallToAction--inverted" />
            </f:case>
            <f:defaultCase>
                <f:variable name="buttonTheme" value="CallToAction--theme-default"/>
                <f:variable name="buttonStyle" value="CallToAction--opaque" />
                <f:variable name="buttonInverted" value="" />
            </f:defaultCase>
        </f:switch>

        <f:form.button
                property="__currentPage"
                value="{form.pages -> f:count()}"
                class="CallToAction {buttonStyle} {buttonTheme} {buttonInverted} CallToAction__submit">
                            <span class="Form__submit-label">
                              {formvh:translateElementProperty(element: form, renderingOptionProperty: 'submitButtonLabel')}
                            </span>
            <f:if condition="{form.formDefinition.renderingOptions.submitButtonIconRight}">
                <base:icon.use icon="{form.formDefinition.renderingOptions.submitButtonIconRight}"/>
            </f:if>

        </f:form.button>

    </formvh:form>
</formvh:renderRenderable>
</html>
